<html>
<head>
	<meta charset='utf-8' />
	<!-- Global site tag (gtag.js) - Google Analytics -->
	<script async src="https://www.googletagmanager.com/gtag/js?id=UA-151323589-1"></script>
	<script>
	  window.dataLayer = window.dataLayer || [];
	  function gtag(){dataLayer.push(arguments);}
	  gtag('js', new Date());

	  gtag('config', 'UA-151323589-1');
	</script>

	<title>Minneapolis Snow Emergency Parking Guide</title>
	<meta name='viewport' content='initial-scale=1,maximum-scale=1,user-scalable=no' />
	<script src='https://api.tiles.mapbox.com/mapbox-gl-js/v1.3.0/mapbox-gl.js'></script>
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
	<script src="jquery-textfill-master/dist/jquery.textfill.min.js"></script>
	<link href='https://api.tiles.mapbox.com/mapbox-gl-js/v1.3.0/mapbox-gl.css' rel='stylesheet'/>
	<link href='https://api.mapbox.com/mapbox-gl-js/plugins/mapbox-gl-geocoder/v4.4.1/mapbox-gl-geocoder.css' rel='stylesheet' type='text/css' />
	<link href="css/styles.css" rel="stylesheet" type='text/css'>
	<!-- Loading Animations -->
	<link href="css/loading.css" rel="stylesheet" type='text/css'>
  <!-- Sidenav Styling -->
	<link href="css/sidenav.css" rel="stylesheet" type='text/css'>
	<!-- Welcome Window Styling  -->
	<link href="css/welcome.css" rel="stylesheet" type='text/css'>
  <!-- Font Import -->
  <link href="https://fonts.googleapis.com/css?family=Montserrat|Roboto&display=swap" rel="stylesheet">
</head>

<body>
<script src='https://api.mapbox.com/mapbox-gl-js/plugins/mapbox-gl-geocoder/v4.4.1/mapbox-gl-geocoder.min.js'></script>

<div id="welcome-container">
	<div class="flex-container">
		<h1>Welcome!</h1>
		<div id="mode-selector" class="radio-selector">
			<label class="radio-btn">
				<input class="mode-radio" name="mode" type="radio" label="Default" >
				<img class="mode-img" src="imgs/light-mode.png" height="80%" width="100%">
				<p>Light Mode</p>
			</label>
			<label class="radio-btn">
				<input class="mode-radio" name="mode" type="radio" label="Dark Mode" checked>
				<img class="mode-img" src="imgs/dark-mode.png" height="80%" width="100%">
				<p>Dark Mode</p>
			</label>
		</div>
		<div id="user-agreement">
			<p>By continuing, you acknowledge that this application can only assist you in parking during snow emergencies and that you are ultimately responsible for parking properly. Always observe and obey local signs.</p>
			<button id="accept-btn" label="I Acknowledge" onclick="closeWelcome()">I Agree</button>
		</div>
	</div>
</div>

<!-- SIDENAV -->
<div id="SideNav" class="sidenav">
  <a href="javascript:void(0)" class="closebtn" onclick="closeNav()">&times;</a>
	<div id='beta-container'>
		<span style='display:flex'>Beta Mode</span>
		<label id='beta-switch' class="switch">
  		<input id='beta-mode' type="checkbox">
  		<span class="slider round"></span>
		</label>
	</div>
	<div id='darkmode-container'>
		<span style='display:flex'>Dark Mode</span>
		<label id='darkmode-switch' class="switch">
			<input id='dark-mode' checked type="checkbox">
			<span class="slider round"></span>
		</label>
	</div>
  <a href="http://www.ci.minneapolis.mn.us/snow/snow_parking-info" target='blank'>Official Minneapolis Rules</a>
	<a href="https://bgoblirsch.github.io" target='blank'>About</a>
	<a href="mailto:mplswinterparking@gmail.com" target='blank'>Feedback</a>
	<iframe id="rules-video" src="https://www.youtube.com/embed/GeVPqEk2kf8" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>

	<!-- Twitter Feed to be implemented later
	<div id="twitter-feed">
		<a class="twitter-timeline" data-width="320" data-height="400" data-theme="light" href="https://twitter.com/MinneapolisSnow?ref_src=twsrc%5Etfw">Tweets by MinneapolisSnow</a> <script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script>
	</div>
	-->
</div>

<!-- DAY SELECTORS -->
<div id='day-selector-container'>
	<button class='day-selector' id='day1-selector' value=1>
		Day 1 Info
	</button>
	<button class='day-selector' id='day2-selector' value=2>
		Day 2 Info
	</button>
	<button class='day-selector' id='day3-selector' value=3>
		Day 3 Info
	</button>
</div>

<!-- for beta only -->
<div id='emergency-declarer'>
	<button class='emergency-btn' id='day1-beta' value=1>
		Declare emergency!
	</button>
	<button class='emergency-btn' id='day2-beta' value=2>
		Day 2
	</button>
	<button class='emergency-btn' id='day3-beta' value=3>
		Day 3
	</button>
	<button class='emergency-btn' id='reset-status' value=0>
		Reset status
	</button>
</div>
<!-- end of beta code> -->

<!-- BODY -->
<div class='wrapper'>
	<div id='geo-status-area'>
		<div id='geocoder'>
			<div id='menu-btn-container' onclick="openNav()">
				<div class='menu-btn'></div>
				<div class='menu-btn'></div>
				<div class='menu-btn'></div>
			</div>
		</div>
		<div id='status-area'>
			<!-- info button here saying, "A snow emergency will never be declared after X:00 PM"-->
			<span id='status-title'>Snow Emergency Status: </span>
			<span id='status-text'>Loading . . .</span><!-- hook into minneapolis snow emergency API/SMS system -->
		</div>
	</div>
	<div id='map'>
		<div id='loading-map' class="lds-ring"><div></div><div></div><div></div><div></div></div>
	</div>
	<div id='info-area'>
		<!-- Day 1 Container -->
		<div class='toggle-container' id='day1'>
			<div class='do'>
				<span>Park in any valid parking spot on non-Snow Emergency Routes.</span>
			</div>
			<div class='dont'>
				<span>Do NOT park on either side of a Snow Emergency Route.</span>
			</div>
			<div class='parking-time'>
				Day 1 Rules start at 9 PM and end at 8 AM the next morning.
			</div>
		</div>
		<hr class='faint-hr'>

		<!-- Day 2 Container> -->
		<div class='toggle-container' id='day2'>
			<div class='do'>
				<span>Park on either side of Snow Emergency Routes or the ODD side of non-Snow Emergency Routes.</span>
			</div>
			<div class='dont'>
				<span>Do NOT park on the EVEN side of non-Snow Emergency Routes.</span>
			</div>
			<div class='parking-time'>
				<span>Rules are in effect from: <strong>8 AM - 8 PM</strong></span>
			</div>
		</div>
		<hr class='faint-hr'>

		<!-- Day 3 Container -->
		<div class='toggle-container' id='day3'>
			<div class='do'>
				<span>Park on either side of Snow Emergency Routes or the EVEN side of non-Snow Emergency Routes</span>
			</div>
			<div class='dont'>
				<span>Do NOT park on the ODD side of non-Snow Emergency Routes.</span>
			</div>
			<div class='parking-time'>
				<span>Rules are in effect from: <strong>8 AM - 8 PM</strong></span>
			</div>
		</div>
		<hr class='faint-hr'>
	</div>
</div>
<script src='map.js'></script>
<script>
	$('do').textfill();
	$('dont').textfill();
</script>
</body>
</html>
